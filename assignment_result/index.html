<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DevD 디바운스 과제</title>
  </head>
  <body>
    <h2>디바운스 적용하기</h2>
    <form id="inputForm">
      <input type="text" id="input" name="input" placeholder="이름을 입력해주세요." />
      <button type="submit" id="submitBtn">전송</button>
      <button type="submit" id="cancelBtn">취소</button><br />
      <p id="result"></p>
    </form>
    <script src="./debounce.js"></script>
    <script>
      const handleTyping = (userInput) => {
        $result.insertAdjacentHTML('beforeend', userInput);
        $input.value = null;
      };
      const debouncedFn = debounce(handleTyping, 800, false);

      const $input = document.querySelector('#input');
      const $submitBtn = document.querySelector('#submitBtn');
      const $result = document.querySelector('#result');
      const $cancelBtn = document.querySelector('#cancelBtn');

      $cancelBtn.addEventListener('click', (e) => {
        e.preventDefault();
        debouncedFn.cancel();
        $input.value = null;
      });

      $submitBtn.addEventListener('click', (e) => {
        e.preventDefault();
        debouncedFn.debounced($input.value);
      });
    </script>
  </body>
</html>
